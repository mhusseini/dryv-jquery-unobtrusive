!function(){var l=function(t){switch(t.attr("type").toLowerCase()){case"checkbox":case"radio":return t[0].checked;default:return function(t,a){switch(a){case"number":return Number(t);case"boolean":t.toLowerCase();default:return t}}(t.val(),t.attr("data-val-dryv-type"))}},u=function(t,a){var r=$(t);if(!r.data("dryv-ignore"))for(var e=r.attr("name").replace(/^\w|\.\w/g,function(t){return t.toLowerCase()}).split("."),n=e.length-1,d=0;d<e.length;d++){var i=e[d],o=/(\w+)(\[(\d)\])?/.exec(i),u=o[1],v=o[3],c=a;if(a=a[u],d<n){if(a||(a=v?[]:{},c[u]=a),v){var s=Number(v);a=a[s]?a[s]:a[s]={}}}else v?(a||(a=c[u]=[]),a[Number(v)]=l(r)):c[u]=l(r)}},v=function(t){var a,r,e,n=(a=t.data("dryv-object"))||(r=t,e={},$("input, select, textarea",r).each(function(t,a){return u(a,e)}),r.data("dryv-object",e),e);return n.isNew=!a,n};$.validator.addMethod("dryv",function(t,a,r){var e=v($(this.currentForm));e.isNew||u(a,e);var n=$(a);n.data("msgDryv",null);for(var d=0,i=r;d<i.length;d++){var o=(0,i[d])(e);if(o)return n.data("msgDryv",o.message||o),!1}return!0}),$.validator.unobtrusive.adapters.add("dryv",function(t){var a=t.form,r=$(a);r.data("dryv-init")||(r.data("dryv-init",!0),r.bind("submit",function(){$(this).data("dryv-object",null)}),$("input:not([data-val-dryv]), textarea:not([data-val-dryv])",r).each(function(t,a){"hidden"===a.type&&$("input[type=checkbox][name='"+a.name+"']",r).length?$(a).data("dryv-ignore",!0):$(a).change(function(){var t=v(r);u(this,t)})}));var e=window.dryv[t.message];e?t.rules.dryv=e:console.error("Cannot find Dryv validation function '"+t.message+"'.")})}();