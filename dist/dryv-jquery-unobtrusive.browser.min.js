!function(){var l=function(t){switch(t.attr("type").toLowerCase()){case"checkbox":case"radio":return t[0].checked;default:return function(t,a){switch(a){case"number":return Number(t);case"boolean":t.toLowerCase();default:return t}}(t.val(),t.attr("data-val-dryv-type"))}},o=function(t,a){var r=$(t);if(!r.data("dryv-ignore")){var e=r.attr("name");if(e)for(var n=e.replace(/^\w|\.\w/g,function(t){return t.toLowerCase()}).split("."),i=n.length-1,d=0;d<n.length;d++){var o=n[d],v=/(\w+)(\[(\d)\])?/.exec(o),u=v[1],c=v[3],s=a;if(a=a[u],d<i){if(a||(a=c?[]:{},s[u]=a),c){var f=Number(c);a=a[f]?a[f]:a[f]={}}}else c?(a||(a=s[u]=[]),a[Number(c)]=l(r)):s[u]=l(r)}}},v=function(t){var a,r,e,n=(a=t.data("dryv-object"))||(r=t,e={},$("input, select, textarea",r).each(function(t,a){return o(a,e)}),r.data("dryv-object",e),e);return n.isNew=!a,n};$.validator.addMethod("dryv",function(t,a,r){var e=window.dryv[r];if(!e)throw"Cannot find Dryv validation function '"+r+"'.";var n=v($(this.currentForm));n.isNew||o(a,n);var i=$(a);i.data("msgDryv",null);var d=e(n);return!d||(i.data("msgDryv",d.message||d),!1)}),$.validator.unobtrusive.adapters.add("dryv",function(t){var a=t.form,r=$(a);r.data("dryv-init")||(r.data("dryv-init",!0),r.bind("submit",function(){$(this).data("dryv-object",null)}),$("input:not([data-val-dryv]), textarea:not([data-val-dryv])",r).each(function(t,a){"hidden"===a.type&&$("input[type=checkbox][name='"+a.name+"']",r).length?$(a).data("dryv-ignore",!0):$(a).change(function(){var t=v(r);o(this,t)})})),t.rules.dryv=t.message})}();