!function(){var createFormHandler=function(r){var e=function(){return r.data("dryv-object",null)};r.data("dryv-handler",e).on("invalid-form",e)},createObject=function(r){var e=$(r.currentForm);e.data("dryv-handler")||createFormHandler(e);var b=/(\w+)(\[(\d)\])?/,m={};return $("input, select, textarea",e).each(function(r,e){for(var t=m,a=$(e),n=a.attr("name").split("."),o=n.length-1,d=0;d<n.length;d++){var c=n[d],v=c.charAt(0).toLowerCase()+c.substr(1),i=b.exec(v),s=i[1],l=i[3],u=t;if(t=t[s],d<o){if(t||(t=l?[]:{},u[s]=t),l){var f=Number(l);t=t[f]?t[f]:t[f]={}}}else l?(t||(t=u[s]=[]),t[Number(l)]=a.val()):u[s]=a.val()}}),e.data("dryv-object",m),m};window.createObject=createObject;var getObject=function(r){return $(r.currentForm).data("dryv-object")||createObject(r)};$.validator.addMethod("dryv",function(r,e,t){var a=getObject(this),n=$(e);n.data("msgDryv",null);for(var o=0,d=t;o<d.length;o++){var c=(0,d[o])(a);if(c)return n.data("msgDryv",c.message||c),!1}return!0}),$.validator.unobtrusive.adapters.add("dryv",function(options){try{options.rules.dryv=eval(options.message)}catch(r){console.error("Failed to parse Dryv validation: "+r+".\nThe expression that was parsed is:\n"+options.message)}})}();