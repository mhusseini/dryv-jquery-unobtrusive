!function(a){if("object"==typeof module&&"object"==typeof module.exports){var t=a(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","jquery"],a)}(function(a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=a("jquery");!function(){var c=function(a){switch(a.attr("type").toLowerCase()){case"checkbox":case"radio":return a[0].checked;default:return function(a,t){switch(t){case"number":return Number(a);case"boolean":a.toLowerCase();default:return a}}(a.val(),a.attr("data-val-dryv-type"))}},d=function(a,t){var r=g(a);if(!r.data("dryv-ignore")){var e=r.attr("name");if(e)for(var n=e.replace(/^\w|\.\w/g,function(a){return a.toLowerCase()}).split("."),i=n.length-1,s=0;s<n.length;s++){var d=n[s],o=/(\w+)(\[(\d)\])?/.exec(d),v=o[1],l=o[3],u=t;if(t=t[v],s<i){if(t||(t=l?[]:{},u[v]=t),l){var f=Number(l);t=t[f]?t[f]:t[f]={}}}else l?(t||(t=u[v]=[]),t[Number(l)]=c(r)):u[v]=c(r)}}},o=function(a){var t,r,e,n=(t=a.data("dryv-object"))||(e={},g("input, select, textarea",r=a).each(function(a,t){return d(t,e)}),r.data("dryv-object",e),e);return n.isNew=!t,n};g.validator.addMethod("dryv",function(a,t,r){var e=window.dryv[r];if(!e)throw"Cannot find Dryv validation function '"+r+"'.";var n=o(g(this.currentForm));n.isNew||d(t,n);var i=g(t),s=e(n);if(s){if(i.data("msgDryv",s.message||s),"warning"===s.type){if(i.data("dryvWarning")===s.message)return i.data("dryvWarningCanIgnore",!0),!0;i.data("dryvWarning",s.message)}return i.data("dryvWarningCanIgnore",null),!1}return i.data("dryvWarningCanIgnore",null),i.data("dryvWarning",null),i.data("msgDryv",null),!0}),g.validator.unobtrusive.adapters.add("dryv",function(a){var t=a.form,r=g(t);r.data("dryv-init")||(r.data("dryv-init",!0),r.bind("submit",function(){g(this).data("dryv-object",null)}),g("input:not([data-val-dryv]), textarea:not([data-val-dryv]), select:not([data-val-dryv]), datalist:not([data-val-dryv]), button:not([data-val-dryv])",r).each(function(a,t){"hidden"===t.type&&g("input[type=checkbox][name='"+t.name+"']",r).length?g(t).data("dryv-ignore",!0):g(t).change(function(){var a=o(r);d(this,a)})})),a.rules.dryv=a.message}),g.validator.setDefaults({highlight:function(a,t,r){g(a.form).find("*[data-valmsg-for="+a.id+"]").addClass(g(a).data("dryvWarning")?this.settings.warningClass:t).removeClass(r)},unhighlight:function(a,t,r){g(a.form).find("*[data-valmsg-for="+a.id+"]").removeClass(t).removeClass(this.settings.warningClass)}});var a=g.validator.prototype,u=a.defaultShowErrors;a.defaultShowErrors=function(){this.settings.warningClass||(this.settings.warningClass="field-validation-warning");for(var a=g(this.currentForm),t=[],r=[],e=0,n=this.successList;e<n.length;e++){var i=n[e],s=g(i),d=s.data("dryvWarning");if(d){var o={message:d,element:i};this.errorList.push(o),s.data("dryvWarningCanIgnore")&&r.push(o),a.find("*[data-valmsg-for="+i.id+"]").addClass(this.settings.warningClass).removeClass(this.settings.validClass)}else t.push(i)}this.successList=t,u.call(this);for(var v=0,l=r;v<l.length;v++){o=l[v];this.errorList.splice(this.errorList.indexOf(o),1)}}}()});