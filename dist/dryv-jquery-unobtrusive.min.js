!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","jquery"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,u,c,l=e("jquery");f=function(e){switch(e.attr("type").toLowerCase()){case"checkbox":case"radio":return e[0].checked;default:return function(e,t){switch(t){case"number":return Number(e);case"boolean":e.toLowerCase();default:return e}}(e.val(),e.attr("data-val-dryv-type"))}},u=function(e,t){var r=l(e);if(!r.data("dryv-ignore"))for(var a=r.attr("name").replace(/^\w|\.\w/g,function(e){return e.toLowerCase()}).split("."),n=a.length-1,o=0;o<a.length;o++){var i=a[o],d=/(\w+)(\[(\d)\])?/.exec(i),u=d[1],c=d[3],v=t;if(t=t[u],o<n){if(t||(t=c?[]:{},v[u]=t),c){var s=Number(c);t=t[s]?t[s]:t[s]={}}}else c?(t||(t=v[u]=[]),t[Number(c)]=f(r)):v[u]=f(r)}},c=function(e){var t,r,a,n=(t=e.data("dryv-object"))||(a={},l("input, select, textarea",r=e).each(function(e,t){return u(t,a)}),r.data("dryv-object",a),a);return n.isNew=!t,n},l.validator.addMethod("dryv",function(e,t,r){var a=c(l(this.currentForm));a.isNew||u(t,a);var n=l(t);n.data("msgDryv",null);for(var o=0,i=r;o<i.length;o++){var d=(0,i[o])(a);if(d)return n.data("msgDryv",d.message||d),!1}return!0}),l.validator.unobtrusive.adapters.add("dryv",function(e){var t=e.form,r=l(t);r.data("dryv-init")||(r.data("dryv-init",!0),r.bind("submit",function(){l(this).data("dryv-object",null)}),l("input:not([data-val-dryv]), textarea:not([data-val-dryv])",r).each(function(e,t){"hidden"===t.type&&l("input[type=checkbox][name='"+t.name+"']",r).length?l(t).data("dryv-ignore",!0):l(t).change(function(){var e=c(r);u(this,e)})}));var a=window.dryv[e.message];a?e.rules.dryv=a:console.error("Cannot find Dryv validation function '"+e.message+"'.")})});