!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","jquery"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,d,u,y=e("jquery");l=function(e){switch(e.attr("type").toLowerCase()){case"checkbox":case"radio":return e[0].checked;default:return function(e,t){switch(t){case"number":return Number(e);case"boolean":e.toLowerCase();default:return e}}(e.val(),e.attr("data-val-dryv-type"))}},d=function(e,t){var r=y(e);if(!r.data("dryv-ignore")){var a=r.attr("name");if(a)for(var n=a.replace(/^\w|\.\w/g,function(e){return e.toLowerCase()}).split("."),o=n.length-1,i=0;i<n.length;i++){var d=n[i],u=/(\w+)(\[(\d)\])?/.exec(d),c=u[1],v=u[3],s=t;if(t=t[c],i<o){if(t||(t=v?[]:{},s[c]=t),v){var f=Number(v);t=t[f]?t[f]:t[f]={}}}else v?(t||(t=s[c]=[]),t[Number(v)]=l(r)):s[c]=l(r)}}},u=function(e){var t,r,a,n=(t=e.data("dryv-object"))||(a={},y("input, select, textarea",r=e).each(function(e,t){return d(t,a)}),r.data("dryv-object",a),a);return n.isNew=!t,n},y.validator.addMethod("dryv",function(e,t,r){var a=window.dryv[r];if(!a)throw"Cannot find Dryv validation function '"+r+"'.";var n=u(y(this.currentForm));n.isNew||d(t,n);var o=y(t);o.data("msgDryv",null);var i=a(n);return!i||(o.data("msgDryv",i.message||i),!1)}),y.validator.unobtrusive.adapters.add("dryv",function(e){var t=e.form,r=y(t);r.data("dryv-init")||(r.data("dryv-init",!0),r.bind("submit",function(){y(this).data("dryv-object",null)}),y("input:not([data-val-dryv]), textarea:not([data-val-dryv])",r).each(function(e,t){"hidden"===t.type&&y("input[type=checkbox][name='"+t.name+"']",r).length?y(t).data("dryv-ignore",!0):y(t).change(function(){var e=u(r);d(this,e)})})),e.rules.dryv=e.message})});